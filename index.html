<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Performance-data by REI-Systems</title>
</head>

<body>
    <header>
        <div class="inner">
            <h1>Performance-data</h1>
            <h2>Google spreadsheet data visualization using Google Charts</h2>
            <a href="https://github.com/REI-Systems/performance-data" class="button">
                <small>View project on</small> GitHub</a>
        </div>
        <!--Load the AJAX API-->
        <script type="text/javascript" src="https://www.google.com/jsapi"></script>
        <script type="text/javascript">
            // Load the Visualization API and the piechart package.
            google.load('visualization', '1.0', {
                'packages': ['corechart']
            });

            // Set a callback to run when the Google Visualization API is loaded.
            google.setOnLoadCallback(drawChart);

            // Callback that creates and populates a data table,
            // instantiates the pie chart, passes in the data and
            // draws it.
            function drawChart() {

                var queryString = encodeURIComponent('SELECT E, D LIMIT 5 OFFSET 0');

                var query = new google.visualization.Query(
                    'https://docs.google.com/spreadsheets/d/1xoA6sfohSGhKr1U1og7_FL2QBuPycGNHJzX8UbpKZJs/gviz/tq?gid=0&headers=1&tq=' + queryString);
                //'https://docs.google.com/spreadsheets/d/1XWJLkAwch5GXAt_7zOFDcg8Wm8Xv29_8PWuuW15qmAE/gviz/tq?gid=0&headers=1&tq='
                query.send(handleQueryResponse);
            }

            function handleQueryResponse(response) {
                if (response.isError()) {
                    alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
                    return;
                }

                var data = response.getDataTable();
                var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
                chart.draw(data, {
                    height: 400
                });
            }
        </script>
    </header>

    <div id="content-wrapper">
        <div class="inner clearfix">
            <section id="main-content">
                <h3>
                    <a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true">
                        <span class="octicon octicon-link"></span>
                    </a>Welcome to REI dashboard.</h3>

                <p>Lots of dashboards to come.</p>
                <!--Div that will hold the pie chart-->
                <div id="chart_div"></div>
            </section>

            <aside id="sidebar">
                <a href="https://github.com/REI-Systems/performance-data/zipball/master" class="button">
                    <small>Download</small>
                    .zip file
                </a>
                <a href="https://github.com/REI-Systems/performance-data/tarball/master" class="button">
                    <small>Download</small>
                    .tar.gz file
                </a>

                <p class="repo-owner">
                    <a href="https://github.com/REI-Systems/performance-data"></a> is maintained by <a href="https://github.com/REI-Systems">REI-Systems</a>.</p>


            </aside>
        </div>
    </div>


</body>

</html>